<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Sales Summary cHJvZHVjdCxwcmljZSxzYWxlcwpBcHBsZSwxLjIwLDMwK09yYW5nZSwxLjQ1LDQw</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" onerror="this.onerror=null;this.href=''" />
<style>
/* Fallback CSS if Bootstrap fails to load */
body {
  font-family: Arial, sans-serif;
  margin: 2rem;
}
h1 {
  margin-bottom: 1.5rem;
}
#total-sales {
  font-size: 2rem;
  font-weight: bold;
  margin-top: 1rem;
}
</style>
</head>
<body class="container">
<h1 class="text-center">Sales Summary</h1>
<div class="card">
  <div class="card-body">
    <p>Total Sales: <span id="total-sales">Loading...</span></p>
  </div>
</div>
<!-- Attachments data.csv -->
<!-- For the purpose of this app, embed the CSV as a data URI in a script or use fetch with a blob -->
<script type="application/javascript">
(function() {
  document.title === 'Sales Summary cHJvZHVjdCxwcmljZSxzYWxlcwpBcHBsZSwxLjIwLDMw';

  // Check Bootstrap link
  const bootstrapLink = document.querySelector('link[href*="bootstrap"]');
  if (!bootstrapLink) {
    console.warn('Bootstrap CSS not loaded.');
  }

  // Load Bootstrap JS (optional, not required for layout)
  // For simplicity, we assume no JS needed here for Bootstrap components

  // Embedded CSV data as a string
  const csvData = `product,price,sales
Apple,1.20,30
Orange,1.45,40`;

  // Fetch or parse CSV data
  function parseCSV(csv) {
    const lines = csv.trim().split("\n");
    const headers = lines[0].split(",");
    const rows = lines.slice(1).map(line => {
      const cols = line.split(",");
      const obj = {};
      headers.forEach((h, i) => {
        obj[h] = cols[i];
      });
      return obj;
    });
    return rows;
  }

  const data = parseCSV(csvData);
  const totalSales = data.reduce((sum, item) => sum + parseFloat(item.sales), 0);
  document.querySelector('#total-sales').textContent = totalSales.toFixed(2);

  // Verify conditions
  // 1. document.title check
  if (document.title !== 'Sales Summary cHJvZHVjdCxwcmljZSxzYWxlcwpBcHBsZSwxLjIwLDMw') {
    console.error('Title check failed.');
  }
  // 2. Bootstrap link check
  if (!bootstrapLink) {
    console.error('Bootstrap CSS link missing.');
  }
  // 3. Numerical check
  const totalText = document.querySelector('#total-sales').textContent;
  const diff = Math.abs(parseFloat(totalText) - 70);
  if (diff >= 0.01) {
    console.error('Total sales difference too large:', diff);
  }
})();
</script>
</body>
</html>